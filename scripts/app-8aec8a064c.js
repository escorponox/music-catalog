!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/scripts/",e(e.s=5)}([function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r=function(t){var e=document.getElementById("album-container"),n=document.createDocumentFragment();t.forEach(function(t){var e=document.createElement("DIV");e.classList.add("c-album"),e.innerHTML="<img src="+t.album_image_file+' class="c-album__image">\n      <div class="c-album__info">\n        <h3>'+t.artist_name+"</h3>\n        <p>"+t.album_title+"</p>\n        <p>Release Date: "+(t.album_date_released?t.album_date_released:"Unknown")+'</p>\n        <a target="_blank" href="'+t.album_url+'">Listen in FMA</a>\n      </div>';var r=document.createElement("DIV");r.classList.add("c-album_tracks"),r.innerHTML='<h3 class="c-album__tracks__header">Track List</h3>';var a=document.createElement("UL");a.classList.add("c-album__tracks__list"),t.trackList.forEach(function(t){var e=document.createElement("LI");e.classList.add("c-album__tracks__list__track"),e.innerHTML='<a target="_blank" href="'+t.track_url+'">'+t.track_title+" - "+t.track_duration+"</a>",a.appendChild(e)}),r.appendChild(a),e.appendChild(r),n.appendChild(e)}),e.appendChild(n)};e.a=function(t,e){var n=e.target.result;if(!t.upgrading){var a=n.transaction("albums","readonly"),u=a.objectStore("albums"),i=u.getAll();i.onsuccess=function(t){r(t.target.result)}}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),a=n(0),u={upgrading:!1};if("indexedDB"in window){var i=1,c=t.indexedDB.open("catalogDB",i);c.onupgradeneeded=r.a.bind(null,u),c.onsuccess=a.a.bind(null,u)}}).call(e,n(4))},function(t,e,n){"use strict";e.a=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.onload=function(){e(r.response)},r.onerror=function(t){n(t)},r.open("GET",t),r.send()})}},function(t,e,n){"use strict";var r=n(0),a=n(2),u=function(t,e){return new Promise(function(n,r){var a=t.transaction("albums","readwrite"),u=a.objectStore("albums"),i=JSON.parse(e).dataset;a.oncomplete=n(i),i.forEach(function(t){return u.put(t)})})},i=function(){return n.i(a.a)("https://freemusicarchive.org/api/get/albums.json?api_key=TBHJ7JH66M2F468E")},c=function(t,e,n){return new Promise(function(r,a){var u=t.transaction("albums","readwrite"),i=u.objectStore("albums");i.transaction.oncomplete=r(e);var c=JSON.parse(n).dataset;e.trackList=c.reduce(function(t,e){return t.push(e),t},[]),i.put(e)})},o=function(t,e){return e.map(function(e){return n.i(a.a)("https://freemusicarchive.org/api/get/tracks.json?api_key=TBHJ7JH66M2F468E&album_id="+e.album_id).then(c.bind(null,t,e))})};e.a=function(t,e){t.upgrading=!0;var a=e.target.result;a.objectStoreNames.contains("albums")&&a.deleteObjectStore("albums");var c=a.createObjectStore("albums",{keyPath:"album_id"});c.createIndex("album_title","album_title"),i().then(u.bind(null,a)).then(o.bind(null,a)).then(function(t){return Promise.all(t)}).then(function(t){return n.i(r.b)(t)}).catch(function(t){return console.error(t)})}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(1)}]);
//# sourceMappingURL=app-8aec8a064c.js.map