!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/scripts/",e(e.s=4)}([function(t,e,a){"use strict";var n=function(t){var e=document.getElementById("album-container"),a=document.createDocumentFragment();t.forEach(function(t){var e=document.createElement("DIV");e.classList.add("c-album"),e.innerHTML="<img src="+t.album_image_file+' class="c-album__image">\n      <div class="c-album__info">\n        <h3>'+t.artist_name+"</h3>\n        <p>"+t.album_title+"</p>\n        <p>Release Date: "+(t.album_date_released?t.album_date_released:"Unknown")+'</p>\n        <a target="_blank" href="'+t.album_url+'">Listen in FMA</a>\n      </div>';var n=document.createElement("DIV");n.classList.add("c-album_tracks"),n.innerHTML='<h3 class="c-album__tracks__header">Track List</h3>';var r=document.createElement("UL");r.classList.add("c-album__tracks__list"),t.trackList.forEach(function(t){var e=document.createElement("LI");e.classList.add("c-album__tracks__list__track"),e.innerHTML='<a target="_blank" href="'+t.track_url+'">'+t.track_title+" - "+t.track_duration+"</a>",r.appendChild(e)}),n.appendChild(r),e.appendChild(n),a.appendChild(e)}),e.appendChild(a)};e.a=function(t,e){var a=e.target.db||e.target.result;if(!t.upgrading){var r=a.transaction("albums","readonly"),i=r.objectStore("albums"),c=i.getAll();c.onsuccess=function(t){n(t.target.result)}}}},function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),r=a(0),i={upgrading:!1};if("indexedDB"in window){i.indexedDBExists=!0;var c=1,s=t.indexedDB.open("catalogDB",c);s.onupgradeneeded=n.a.bind(null,i),s.onsuccess=r.a.bind(null,i)}}).call(e,a(3))},function(t,e,a){"use strict";var n=a(0),r=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){var e=this;4==this.readyState&&200==this.status&&!function(){var a=t.transaction("albums","readwrite"),n=a.objectStore("albums"),r=JSON.parse(e.response).dataset;a.oncomplete=c,r.forEach(function(t){return n.put(t)})}()},e.open("GET","https://freemusicarchive.org/api/get/albums.json?api_key=TBHJ7JH66M2F468E",!0),e.send()},i=function(t,e){t||a.i(n.a)({updating:!1},e)},c=function(t){var e=t.target.db,a=e.transaction("albums","readonly"),n=a.objectStore("albums"),r=n.getAll();r.onsuccess=function(t){var a=t.target.result.length;t.target.result.forEach(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var n=e.transaction("albums","readwrite"),r=n.objectStore("albums");r.transaction.oncomplete=function(t){i(--a,t)};var c=JSON.parse(this.response).dataset;t.trackList=c.reduce(function(t,e){return t.push(e),t},[]),r.put(t)}},n.open("GET","https://freemusicarchive.org/api/get/tracks.json?api_key=TBHJ7JH66M2F468E&album_id="+t.album_id,!0),n.send()})}};e.a=function(t,e){t.upgrading=!0;var a=e.target.result,n=a.createObjectStore("albums",{keyPath:"album_id"});n.createIndex("album_title","album_title"),r(a)}},function(t,e){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(a=window)}t.exports=a},function(t,e,a){t.exports=a(1)}]);
//# sourceMappingURL=app-9e90d4d64b.js.map